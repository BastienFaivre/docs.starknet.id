# Starknet React

Starknet React provides seamless integration with Starknet.id, allowing you to effortlessly retrieve Stark names and addresses.

[ðŸ”— View the source code on GitHub](https://github.com/apibara/starknet-react)

[ðŸ”— Check out interactive demo of the hooks](https://starknet-react.com/demos/starknetid)

Please note that you need to install version 2 of starknet-react to use the starknet.id hooks.

## Installation

Starknet React can be installed via npm, yarn, or pnpm:

```bash
npm install @starknet-react/chains@next @starknet-react/core@next starknet get-starknet-core

yarn add @starknet-react/chains@next @starknet-react/core@next starknet get-starknet-core

pnpm add @starknet-react/chains@next @starknet-react/core@next starknet get-starknet-core
```

## Usage

### Button Component

### Hooks

#### useStarkName

The `useStarkName` hook enables you to fetch the Stark name associated with a given address. By default, it uses the Starknet.id naming contract, but you can specify an alternative contract if needed. If no Stark name is found for the address, the hook will return "stark."

â–¸ **useStarkName**(`address`, `contract?`): `StarkNameResult`

**Parameters**

| Name        | Type     | Description                      |
| :---------- | :------- | -------------------------------- |
| `address`   | `string` | The address to query             |
| `contract?` | `string` | Optional naming contract address |

**Returns**

The hook returns an object with the following structure:

```tsx
interface StarkNameResult {
  /** Stark name. */
  data?: string;
  /** Error fetching name. */
  error?: unknown;
  isIdle: boolean;
  /** True if loading stark name. */
  isLoading: boolean;
  isFetching: boolean;
  isSuccess: boolean;
  /** True if error while loading stark name. */
  isError: boolean;
  isFetched: boolean;
  isFetchedAfterMount: boolean;
  isRefetching: boolean;
  refetch: () => void;
  status: "idle" | "error" | "loading" | "success";
}
```

**Defined in**

[core/src/hooks/useStarkName.ts](https://github.com/apibara/starknet-react/blob/main/packages/core/src/hooks/useStarkName.ts)

**Example usage**

Fetching the Stark name using the default contract

```tsx
function Component() {
  const address =
    "0x061b6c0a78f9edf13cea17b50719f3344533fadd470b8cb29c2b4318014f52d3";
  const { data, isLoading, isError } = useStarkName({ address });

  if (isLoading) return <span>Loading...</span>;
  if (isError) return <span>Error fetching name...</span>;
  return <span>StarkName: {data}</span>;
}
```

Fetching the Stark name using a custom contract

```tsx
function Component() {
  const address =
    "0x061b6c0a78f9edf13cea17b50719f3344533fadd470b8cb29c2b4318014f52d3";
  const { data, isLoading, isError } = useStarkName({
    address,
    contract: "0x1234",
  });

  if (isLoading) return <span>Loading...</span>;
  if (isError) return <span>Error fetching name...</span>;
  return <span>StarkName: {data}</span>;
}
```

---

#### useAddressFromStarkName

The `useAddressFromStarkName` hook fetches the address corresponding to a given stark name. By default, it queries the Starknet.id naming contract. However, you can specify an alternative contract by providing its address. If the Stark name doesn't have an associated address, the hook returns "0x0".

â–¸ **useAddressFromStarkName**(`name`, `contract?`): `AddressFromStarkNameResult`

**Parameters**

| Name        | Type     | Description                      |
| :---------- | :------- | -------------------------------- |
| `name`      | `string` | The starkname to look up         |
| `contract?` | `string` | Optional naming contract address |

**Returns**

The hook returns an object with the following structure:

```tsx
interface AddressFromStarkNameResult {
  /** Address. */
  data?: string;
  /** Error fetching name. */
  error?: unknown;
  isIdle: boolean;
  /** True if loading stark name. */
  isLoading: boolean;
  isFetching: boolean;
  isSuccess: boolean;
  /** True if error while loading stark name. */
  isError: boolean;
  isFetched: boolean;
  isFetchedAfterMount: boolean;
  isRefetching: boolean;
  refetch: () => void;
  status: "idle" | "error" | "loading" | "success";
}
```

**Defined in**

[core/src/hooks/useStarkAddress.ts](https://github.com/apibara/starknet-react/blob/main/packages/core/src/hooks/useStarkAddress.ts)

**Example usage**

The following example demonstrates how to fetch the address corresponding to a stark name.

```tsx
function Component() {
  const { data, isLoading, isError } = useAddressFromStarkName({
    name: "vitalik.stark",
  });

  if (isLoading) return <span>Loading...</span>;
  if (isError) return <span>Error fetching address...</span>;
  return <span>address: {data}</span>;
}
```

---

#### useStarkProfile

The `useStarkProfile` hook fetches all profile data corresponding to a given address. By default, it queries the Starknet.id naming and identity contract. However, you can specify alternative contracts by providing their addresses.

â–¸ **useStarkProfile**(`address`, `identicons?`, `namingContract?`, `identityContract?`): `useStarkProfileResult`

**Parameters**

| Name                | Type      | Description                                                      |
| :------------------ | :-------- | ---------------------------------------------------------------- |
| `address`           | `string`  | The address to look up                                           |
| `identicons?`       | `boolean` | Get identicon url as profile picture if none was set by the user |
| `namingContract?`   | `string`  | Optional naming contract address                                 |
| `identityContract?` | `string`  | Optional identity contract address                               |

**Returns**

The hook returns an object with the following structure:

```tsx
interface useStarkProfileResult {
  /** Profile data. */
  data?: GetStarkprofileResponse;
  /** Error fetching name. */
  error?: unknown;
  isIdle: boolean;
  /** True if loading stark name. */
  isLoading: boolean;
  isFetching: boolean;
  isSuccess: boolean;
  /** True if error while loading stark name. */
  isError: boolean;
  isFetched: boolean;
  isFetchedAfterMount: boolean;
  isRefetching: boolean;
  refetch: () => void;
  status: "idle" | "error" | "loading" | "success";
}
```

Where:

```tsx
type GetStarkprofileResponse = {
  /** The Stark name. */
  name?: string;
  /** Metadata url of the NFT set as profile picture. */
  profile?: string;
  /** Profile picture url. */
  profilePicture?: string;
  /** Social networks ids */
  twitter?: string;
  github?: string;
  discord?: string;
  /** Proof of personhood verification. */
  proofOfPersonhood?: boolean;
};
```

**Defined in**

[core/src/hooks/useStarkProfile.ts](https://github.com/apibara/starknet-react/blob/main/packages/core/src/hooks/useStarkProfile.ts)

**Example usage**

The following example demonstrates how to fetch the profile corresponding to an address.

```tsx
function Component() {
  const address =
    "0x061b6c0a78f9edf13cea17b50719f3344533fadd470b8cb29c2b4318014f52d3";
  const { data, isLoading, isError } = useStarkProfile({
    address,
    identicons: true,
  });

  if (isLoading) return <span>Loading...</span>;
  if (isError) return <span>Error fetching profile...</span>;
  return (
    <>
      <p>Name: {data?.name}</p>
      <p>Discord id: {data?.discord}</p>
      <p>Twitter id: {data?.twitter}</p>
      <p>Github id: {data?.github}</p>
      <p>Proof of personhood verification: {data?.proofOfPersonhood}</p>
      <p>Profile picture metadata : {data?.profilePicture}</p>
    </>
  );
}
```
